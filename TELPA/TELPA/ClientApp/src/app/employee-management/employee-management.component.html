<div class="employee-managemenmt">
  <div class="front">
    <div class="buttons">
      <h1><button type="button" value="Select Team" class="select-team-btn" (click)="openModal('selectTeam')">Select Team</button></h1>
      <h1><button type="button" value="Add employee" class="add-employee-btn" (click)="openModal('addEmployee')">Add employee</button></h1>
    </div>
    <table class="employee-table">
      <tr>
        <th>Name</th>
        <th>Email</th>
        <th>Assigned by</th>
        <th>Change Leader</th>
      </tr>

      <tr *ngFor="let EmployeeData of employeeData; let i = index">
        <td>{{EmployeeData.employeeName}}</td>
        <td>{{EmployeeData.employeeEmail}}</td>
        <td>{{EmployeeData.leaderName}}</td>
       <td>
          <div class="editLeader" *ngIf="EmployeeData != null" (click)="getEmployee(EmployeeData.employeeId); openEditModal(EmployeeData.employeeId, EmployeeData.employeeName, EmployeeData.leaderId, 'edit-leader')">
            <span>edit</span>
          </div>
        </td>

<!--
        <td>
          <select name="editLeader" [(ngModel)]="EmployeeData.leaderName" #editLeader="ngModel" (change)="onLeaderChange($event.target.value)" [value]="EmployeeData.leaderName" selected="EmployeeData.leaderName">
            <option *ngFor="let FullLeaderData of fullLeaderData">
              {{EmployeeData.leaderName}}
            </option>
          </select>
        </td>
-->
      </tr>
    </table>
  </div>
</div>

<jw-modal id="selectTeam">
  Select team from the list:
  <br />
  <div class="teamSelected" (click)="selectTeam(0); closeModal('selectTeam')">
    <span>Show all</span>
  </div>
  <ng-container class="teamName" *ngFor="let SubordinateData of subordinateData">
    <div class="teamSelected" *ngIf="SubordinateData != null" (click)="selectTeam(SubordinateData.id); closeModal('selectTeam')">
      <span>{{SubordinateData.name}}</span>
    </div>
  </ng-container>

  <button type="button" class="btn btn-success mdlBtn" (click)="closeModal('selectTeam');">Close</button>
</jw-modal>

<jw-modal id="addEmployee">
  Employee information:
  First and Last name: <br />
  <input class="form-control" type="text" id="newAttributeName" [(ngModel)]="newAttribute.employeeName" name="newAttributeName" />
  Email:<br/>
  <input class="form-control" type="text" id="newAttributeEmail" [(ngModel)]="newAttribute.employeeEmail" name="newAttributeEmail" />
  Leader name:
  <!--<input class="form-control" type="text" id="newAttributeLeaderName" [(ngModel)]="newAttribute.leaderName" name="newAttributeLeaderName" />-->
  <select name="selectLeader" [(ngModel)]="newAttribute.leaderName">
    <option *ngFor="let FullLeaderData of fullLeaderData" id="newAttributeLeaderName" value="{{FullLeaderData.leaderName}}">
      {{FullLeaderData.leaderName}}
    </option>
  </select>
  <button type="button" class="btn btn-success mdlBtn" (click)="sendInvite('addEmployee', newAttribute.name, newAttribute.email, newAttribute.leaderName);">Add employee</button>
  <button type="button" class="btn btn-success mdlBtn" (click)="closeModal('addEmployee');">Cancel</button>
</jw-modal>

<jw-modal id="edit-leader">
  <h3>{{employeeName}}</h3>
  <h3>{{leaderId}}</h3>
  <select name="selectLeader" [(ngModel)]="newAttribute.id">
    <option *ngFor="let SubordinateData of subordinateData" id="newAttributeLeaderName" value="{{SubordinateData.id}}">
      {{SubordinateData.name}}
    </option>
  </select>
  <br/>
  <button type="button" class="btn btn-success mdlBtn" (click)="editLeader('edit-leader',newAttribute.id, employeeId)">Save Changes</button>
</jw-modal>
